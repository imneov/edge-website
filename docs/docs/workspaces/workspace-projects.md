# 租户空间项目管理

## 概述

项目（Project）是租户空间内的基本组织单元，用于部署和管理应用程序。每个项目对应Kubernetes中的一个命名空间（Namespace），提供资源隔离和管理边界。

## 主要功能

- **项目列表管理**：查看租户空间内的所有项目
- **创建项目**：在租户空��中创建新项目
- **项目详情查看**：查看项目的详细资源和运行状态
- **项目编辑**：修改项目的配置和设置
- **项目删除**：删除不再使用的项目

## 访问项目管理

### 导航路径

1. 进入租户空间管理页面
2. 选择要管理的租户空间
3. 在租户空间详情页面中点击 **"项目管理"**
4. 或直接通过URL访问：`/boss/clusters/{cluster}/workspaces/{workspace}/namespaces`

![项目管理界面](./images/workspace-project-management.png)

## 项目列表视图

### 页面结构

项目管理页面包含以下主要组件：

- **面包屑导航**：显示当前位置（集群 > 租户空间 > 项目管理）
- **租户空间选择器**：快速切换到其他租户空间
- **搜索功能**：快速查找特定项目
- **创建按钮**：创建新的项目
- **项目列表**：显示所有项目的表格
- **分页控制**：处理大量项目的显示

### 项目信息表格

项目列表以表格形式展示，包含以下信息列：

| 列名 | 说明 |
|------|------|
| 名称 | 项目的唯一标识符 |
| 状态 | 项目的当前状态 |
| 容器组 | 项目中运行的Pod数量 |
| 服务 | 项目中暴露的服务数量 |
| 运行时长 | 项目创建后的运行时间 |

## 项目基本操作

### 搜索项目

1. 在页面顶部的搜索框中输入项目名称
2. 系统会实时过滤显示匹配的项目
3. 支持模糊搜索和部分匹配

### 创建项目

点击页面右上角的 **"创建项目"** 按钮可以创建新的项目。

**创建步骤**：
1. 填写项目基本信息
2. 配置资源配额和限制
3. 设置网络策略
4. 指定项目成员和权限
5. 确认创建

### 项目操作

每个项目行都提供操作选项：

- **查看详情**：进入项目的详细页面
- **编辑配置**：修改项目的设置
- **删除项目**：删除项目及其所有资源

## 项目与租户空间的关系

### 层次结构

```
集群 (Cluster)
└── 租户空间 (Workspace)
    └── 项目 (Project)
        └── 应用部署 (Deployment)
        └── 服务 (Service)
        └── 配置 (ConfigMap)
        └── 密钥 (Secret)
```

### 资源隔离

每个项目提供以下隔离能力：

1. **资源隔离**：独立的资源配额和限制
2. **网络隔离**：独立的网络策略和服务发现
3. **命名隔离**：独立的资源命名空间
4. **权限隔离**：独立的用户访问控制

## 项目状态管理

### 项目状态类型

- **活跃**：项目正常运行，可以部署应用
- **暂停**：项目已暂停，资源被保留但不可用
- **错误**：项目配置错误或资���异常

### 状态转换

- **创建 → 活跃**：项目创建成功后自动变为活跃状态
- **活跃 → 暂停**：可以手动暂停项目以保留资源
- **暂停 → 活跃**：恢复暂停的项目
- **任何状态 → 错误**：检测到配置或资源问题时进入错误状态

## 项目资源管理

### 容器组（Pods）

- 显示项目中当前运行的Pod数量
- 点击数字可以查看Pod详情
- 包括运行中、待处理和失败的Pod

### 服务（Services）

- 显示项目中暴露的服务数量
- 包括ClusterIP、NodePort和LoadBalancer类型
- 支持服务发现和负载均衡

### 运行时长

- 显示项目创建后的运行时间
- 格式：天、小时、分钟
- 用于项目生命周期管理

## 使用场景

### 按环境组织项目

在同一租户空间中创建不同环境的项目：

- **project-dev**：开发环境项目
- **project-test**：测试环境项目
- **project-prod**：生产环境项目

### 按应用组织项目

为每个应用创建独立的项目：

- **project-web-app**：Web应用项目
- **project-api-service**：API服务项目
- **project-background-job**：后台任务项目

### 按团队组织项目

不同团队在各自的租户空间中创建项目：

- **team-frontend**：前端团队项目
- **team-backend**：后端团队项目
- **team-data**：数据团队项目

## 最佳实践

### 项目命名规范

1. **使用有意义的名称**
   - 反映项目用途或所属应用
   - 示例：`web-frontend`, `api-service`, `data-processing`

2. **使用一致的命名模式**
   - 按环境：`{app}-{env}`
   - 按团队：`{team}-{app}`
   - 按功能：`{function}-{service}`

3. **避免使用特殊字符**
   - 使用小写字母、数字和连字符
   - 不超过63个字符
   - 以字母开头和结尾

### 资源规划

1. **合理设置资源配额**
   - 根据应用需求设置CPU和内存限制
   - 预留足够资源给系统组件
   - 定期审查和调整配额

2. **监控资源使用**
   - 关注CPU和内存使用率
   - 及时发现性能瓶颈
   - 优化资源配置

### 安全建议

1. **网络隔离**
   - 为敏感项目配置网络策略
   - 限制不必要的网络访问
   - 使用服务网格增强安全性

2. **访问控制**
   - 遵循最小权限原则
   - 定期审查项目成员权限
   - 使用角色和角色绑定管理权限

3. **密钥管理**
   - 不要在代码中硬编码密钥
   - 使用Kubernetes Secret管理敏感信息
   - 定期轮换密钥和证书

## 项目生命周期管理

### 创建阶段

1. 规划项目结构和资源需求
2. 创建项目并配置基本设置
3. 添加团队成��和设置权限
4. 部署应用程序和服务

### 运行阶段

1. 监控项目运行状态和资源使用
2. 处理告警和故障
3. 扩缩容以应对负载变化
4. 更新应用版本

### 维护阶段

1. 定期备份配置和数据
2. 更新安全补丁和依赖
3. 清理未使用的资源
4. 优化性能和成本

### 删除阶段

1. 停止应用服务
2. 备份重要数据
3. 删除所有资源
4. 清理相关配置

## 故障排除

### 常见问题

**Q: 项目创建失败？**

A: 检查以下几点：
- 确认租户空间有足够的资源配额
- 验证项目名称是否符合命名规范
- 检查网络策略配置是否正确

**Q: 无法查看项目详情？**

A: 可能的原因：
- 用户没有该项目的访问权限
- 项目状态异常
- 网络连接问题

**Q: 项目资源无法启动？**

A: 排查步骤：
- 检查资源配额是否足够
- 查看Pod日志和事件
- 验证镜像是否存在
- 检查网络配置

**Q: 如何删除项目？**

A: 注意事项：
- 先删除项目中的所有应用部署
- 确保没有重要的运行时数据
- 删除操作不可逆，请谨慎操作

## 相关功能

项目管理与以下功能模块密切相关：

- **应用管理**：在项目中部署和管理应用
- **配置管理**：管理项目的ConfigMap和Secret
- **监控告警**：监控项目的运行状态
- **日志管理**：查看和分析应用日志

## 下一步

- 了解如何[创建项目](./workspace-project-creation.md)
- 学习[应用部署和管理](./workspace-applications.md)
- 配置[项目网络策略](./workspace-networking.md)
- 查看[项目监控和日志](./workspace-monitoring.md)