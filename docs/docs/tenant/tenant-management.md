# 租户空间管理指南

## 概述

租户空间管理提供了创建、配置和管理租户空间的完整功能。通过租户空间管理，管理员可以为不同的组织或团队创建独立的工作环境，实现资源隔离和权限控制。

## 租户空间列表

### 访问租户空间列表
- **导航路径**: 点击"智能边缘平台"链接
- **直接访问**: `http://188.239.62.17:30446/tenant`
- **显示内容**: 所有可访问的租户空间卡片视图

### 列表功能

#### 搜索和过滤
- **集群过滤**: 按所属集群过滤租户空间
- **关键词搜索**: 搜索租户空间名称、别名、管理员
- **实时搜索**: 输入即搜索，无需按回车

#### 租户空间卡片信息
每个租户空间卡片显示：
- **显示名称**: 租户空间的友好名称
- **租户空间ID**: 唯一标识符
- **运行状态**: 当前状态（正常/异常）
- **所属集群**: 关联的集群名称
- **管理员**: 租户空间管理员
- **快速操作**: 查看详情按钮

#### 刷新功能
- **手动刷新**: 点击刷新按钮更新数据
- **自动加载**: 进入页面时自动加载最新数据

## 创建租户空间

### 创建权限
- **所需权限**: `platform/workspaces.create`
- **权限检查**: 系统会自动检查当前用户权限
- **权限不足**: 创建按钮不可见或不可操作

### 创建步骤

#### 1. 点击创建租户空间
在租户空间列表页面，点击"创建租户空间"卡片。

#### 2. 填写基本信息

##### 工作空间名称
- **必填项**: 是
- **命名规则**: RFC1123标准
  - 只能包含小写字母、数字和连字符
  - 必须以字母或数字开头和结尾
  - 最长63个字符
- **唯一性**: 在集群内必须唯一
- **示例**: `tenant-production`, `team-alpha`

##### 显示名称
- **必填项**: 否
- **用途**: 用户友好的显示名称
- **字符支持**: 支持中文、特殊字符
- **示例**: `生产环境租户`, `团队Alpha`

##### 管理员
- **自动填充**: 当前登录用户
- **不可修改**: 自动使用当前用户作为管理员
- **权限说明**: 管理员拥有租户空间的完全控制权限

##### 所属集群
- **默认值**: `host`
- **可选集群**: 系统中可用的集群
- **影响**: 决定租户空间创建在哪个集群

##### 描述信息
- **必填项**: 否
- **用途**: 说明租户空间的用途和功能
- **建议**: 详细描述有助于其他用户理解

#### 3. 验证和创建
- **名称验证**: 系统会验证工作空间名称是否符合规范
- **创建处理**: 点击"创建"按钮提交创建请求
- **成功反馈**: 创建成功后自动刷新列表

### 创建后处理

#### 自动配置
创建租户空间后，系统会自动：
1. **生成命名空间**: 创建专属的命名空间
2. **创建节点组**: 分配专属的节点组
3. **设置标签**: 添加租户类型标签
4. **配置权限**: 初始化权限配置

#### 资源分配
- **计算资源**: 分配基础计算资源配额
- **存储资源**: 分配基础存储配额
- **网络资源**: 配置网络隔离策略

## 查看租户空间

### 进入租户空间
1. 在租户空间列表中找到目标租户
2. 点击租户空间卡片或"查看详情"按钮
3. 进入租户空间概览页面

### 租户空间详情

#### 基本信息
- **租户空间ID**: 唯一标识符
- **显示名称**: 用户友好的名称
- **描述信息**: 租户空间说明
- **创建时间**: 创建时间戳

#### 资源信息
- **所属集群**: 关联的集群
- **节点组数量**: 关联的节点组数量
- **命名空间**: 专属命名空间
- **资源配额**: CPU、内存、存储配额

#### 运行状态
- **健康状态**: 当前运行状态
- **EdgeX状态**: EdgeX框架启用状态
- **Edge Runtime**: 边缘运行时类型

## 租户空间管理

### 租户空间切换

#### 切换方式
1. **通过下拉菜单**: 点击左侧租户选择器
2. **选择租户**: 在列表中选择目标租户
3. **自动跳转**: 系统自动跳转到该租户的概览页面

#### 快速返回
- **全部租户空间**: 在下拉菜单中选择"全部租户空间"
- **返回列表**: 自动跳转回租户空间列表页面

### 侧边栏导航

#### 导航菜单
租户空间侧边栏提供以下功能模块：

1. **总览**: 租户空间概览和监控
2. **边缘资源**: 节点、设备、算力管理
3. **边缘应用**: 工作负载和应用部署
4. **配置管理**: 配置字典和保密字典
5. **接入管理**: 节点注册和升级
6. **租户设置**: 角色和成员管理
7. **帮助中心**: 帮助文档和支持

#### 侧边栏操作
- **折叠/展开**: 点击底部按钮折叠侧边栏
- **菜单展开**: 点击菜单项展开子菜单
- **自动定位**: 自动高亮当前页面对应的菜单项

## 租户空间配置

### 基础配置

#### 显示名称修改
1. 进入租户空间设置
2. 修改显示名称
3. 保存更改

#### 描述信息更新
1. 进入租户空间设置
2. 更新描述信息
3. 保存更改

### 高级配置

#### 资源配额设置
- **CPU配额**: 设置CPU使用上限
- **内存配额**: 设置内存使用上限
- **存储配额**: 设置存储使用上限
- **网络策略**: 配置网络访问策略

#### EdgeX配置
- **启用EdgeX**: 在工作空间信息卡片中启用
- **配置标签**: 系统自动添加EdgeX相关标签
- **验证状态**: 检查EdgeX启用状态

## 权限管理

### 角色类型

#### 管理员角色 (admin)
- **完全控制**: 拥有租户空间的所有权限
- **用户管理**: 可以邀请和移除成员
- **资源配置**: 可以修改资源配额
- **应用管理**: 可以部署和管理应用

#### 查看着角色 (viewer)
- **只读访问**: 只能查看租户空间资源
- **无修改权限**: 不能修改任何配置
- **无部署权限**: 不能部署应用
- **监控查看**: 可以查看监控数据

### 成员管理

#### 邀请成员
1. 进入租户成员管理页面
2. 点击"邀请成员"按钮
3. 输入用户名和选择角色
4. 发送邀请

#### 角色修改
1. 找到目标成员
2. 点击"修改角色"选项
3. 选择新的角色
4. 确认修改

#### 移除成员
1. 找到目标成员
2. 点击"移除成员"选项
3. 确认移除操作
4. 成员立即失去访问权限

## 最佳实践

### 租户空间规划
1. **按需创建**: 根据实际需求创建租户空间
2. **命名规范**: 使用有意义的命名规范
3. **资源规划**: 合理规划资源配额
4. **权限设计**: 设计合理的权限结构

### 安全建议
1. **最小权限**: 为用户分配最小必要权限
2. **定期审计**: 定期审计成员权限
3. **密码策略**: 设置强密码策略
4. **访问日志**: 启用访问日志记录

### 性能优化
1. **资源监控**: 监控资源使用情况
2. **容量规划**: 提前规划资源扩容
3. **负载均衡**: 合理分配负载
4. **资源清理**: 定期清理无用资源

## 故障排除

### 常见问题

#### 创建失败
- **检查权限**: 确认是否有创建权限
- **名称冲突**: 检查租户空间名称是否已存在
- **资源不足**: 检查集群资源是否充足
- **网络问题**: 检查网络连接是否正常

#### 访问异常
- **权限不足**: 确认是否有访问权限
- **租户不存在**: 确认租户空间是否存在
- **状态异常**: 检查租户空间运行状态

#### 资源限制
- **配额超限**: 检查资源配额使用情况
- **性能问题**: 监控资源使用性能
- **扩容处理**: 申请资源扩容

## 相关文档

- [租户空间概览](./tenant-overview.md)
- [权限管理指南](./permission-management.md)
- [资源管理指南](./resource-management.md)
- [监控告警设置](./monitoring-setup.md)