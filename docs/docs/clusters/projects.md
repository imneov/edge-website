# 项目管理

## 概述

项目（Project）在边缘计算平台中对应Kubernetes的Namespace，是资源隔离和多租户管理的基本单位。通过项目管理，管理员可以为不同的业务系统、团队或应用创建独立的工作空间。

![项目列表](images/04-projects-list.png)

## 功能特性

- **资源隔离**：不同项目之间的资源相互隔离，提供安全的多租户环境
- **配额管理**：为每个项目设置资源配额，防止单个项目占用过多资源
- **访问控制**：精细化控制用户对项目的访问权限
- **项目管理**：创建、编辑、删除项目，管理项目的基本信息
- **状态监控**：实时监控项目中的资源使用情况

## 项目列表视图

### 访问路径
```
集群管理 → 选择集群 → 项目
```

### 列表字段说明

| 字段名称 | 说明 | 示例 |
|---------|------|------|
| 名称 | 项目的唯一标识名称 | edge-system |
| 描述 | 项目的用途说明 | Edge platform core components namespace |
| 状态 | 项目当前状态 | 活跃、停止 |
| 租户空间 | 项目所属的租户空间 | system-workspace、未分配 |
| 容器组 | 项目中运行的Pod数量 | 0 |
| 服务 | 项目中创建的Service数量 | 0 |
| 运行时长 | 项目创建后的运行时间 | 19小时 |

### 操作功能

1. **搜索项目**
   - 在搜索框中输入项目名称进行过滤
   - 支持模糊搜索

2. **创建项目**
   - 点击"创建项目"按钮创建新项目
   - 需要配置项目名称、资源配额等

3. **项目详情**
   - 点击项目名称查看详细信息
   - 包括工作负载、服务、配置等信息

4. **项目操作菜单**
   - 点击每个项目右侧的操作按钮（⋮）
   - 支持编辑配置、删除项目等操作

## 创建项目

### 基本步骤

1. **进入创建页面**
   - 在项目列表页面点击"创建项目"按钮

2. **填写基本信息**
   - **项目名称**：必填，小写字母、数字、"-"组成，最多63个字符
   - **描述**：可选，项目的用途说明
   - **租户空间**：选择项目所属的租户空间

3. **配置资源配额**
   - **CPU配额**：设置项目的CPU使用上限
   - **内存配额**：设置项目的内存使用上限
   - **存储配额**：设置项目的存储使用上限
   - **Pod数量**：限制项目可以创建的Pod数量

4. **设置网络策略**
   - 配置项目间的网络访问规则
   - 设置网络隔离策略

5. **添加标签和注解**
   - 为项目添加自定义标签
   - 添加项目的元数据注解

## 项目类型

### 系统项目

系统项目用于运行平台的核心组件，包括：

- **edge-system**：边缘平台核心组件项目
- **kube-system**：Kubernetes系统组件项目
- **observability-system**：可观测性组件项目
- **rise-vast-system**：平台扩展系统项目

### 用户项目

用户创建的业务项目，用于部署业务应用：

- 业务应用部署
- 开发测试环境
- 数据处理服务
- 第三方集成应用

### 默认项目

- **default**：Kubernetes的默认项目，用于存放没有指定项目的工作负载

## 项目详情视图

### 概览页面

项目概览页面提供了项目的整体状态和资源使用情况：

#### 资源统计

- **工作负载统计**：部署、有状态副本集、守护进程集等的数量
- **服务统计**：服务、应用路由等的数量
- **存储统计**：持久卷声明、配置映射等的数量
- **运行状态**：项目的整体健康状态

#### 资源使用情况

- **CPU使用率**：项目的CPU使用情况和趋势
- **内存使用率**：项目的内存使用情况和趋势
- **网络流量**：项目的网络进出流量统计
- **存储使用**：项目的存储使用情况

#### 工作负载列表

显示项目中运行的各类工作负载：

- **Pods**：容器组列表和状态
- **Deployments**：部署列表和副本状态
- **StatefulSets**：有状态副本集列表
- **DaemonSets**：守护进程集列表
- **Services**：服务列表和端点信息

## 项目管理操作

### 编辑项目

1. **修改基本信息**
   - 更新项目名称和描述
   - 调整租户空间分配

2. **调整资源配额**
   - 修改CPU、内存配额限制
   - 调整Pod数量限制
   - 更新存储配额

3. **更新网络策略**
   - 修改网络访问规则
   - 调整网络隔离设置

### 删除项目

- 在项目操作菜单中选择删除
- 确认删除操作（此操作不可逆）
- 删除项目会同时删除项目中的所有资源

### 资源清理

- **清理工作负载**：删除项目中的所有工作负载
- **清理配置**：删除ConfigMap、Secret等配置资源
- **清理存储**：删除持久卷声明等存储资源

## 资源配额管理

### 配额类型

项目支持以下类型的资源配额：

| 资源类型 | 说明 | 单位 |
|---------|------|------|
| CPU | 计算资源配额 | cores |
| 内存 | 内存资源配额 | Gi |
| 存储 | 存储资源配额 | Gi |
| Pods | Pod数量配额 | 个数 |
| Services | 服务数量配额 | 个数 |
| PVCs | 持久卷声明配额 | 个数 |

### 配额策略

1. **硬限制**
   - 设置资源使用的绝对上限
   - 超过限制后无法创建新资源

2. **软限制**
   - 设置资源使用的建议上限
   - 超过限制会发送告警但不阻止创建

3. **配额调整**
   - 根据实际使用情况动态调整配额
   - 监控资源使用趋势优化配额设置

## 租户空间集成

### 租户空间分配

项目可以分配给不同的租户空间使用：

- **未分配**：项目不属于任何租户空间，由平台管理员管理
- **已分配**：项目分配给特定的租户空间，由租户管理员管理

### 权限继承

项目继承租户空间的权限设置：

- 租户空间的成员自动获得项目的访问权限
- 可以在项目级别进一步细化权限控制
- 支持跨租户空间的项目共享

## 最佳实践

1. **项目命名**
   - 使用有意义的名称，如 `prod-web-app`、`dev-data-processing`
   - 遵循DNS命名规范，小写字母和数字

2. **资源规划**
   - 根据业务需求设置合理的资源配额
   - 定期审查和调整配额设置

3. **隔离策略**
   - 不同业务系统使用不同项目
   - 生产、开发、测试环境分离

4. **标签管理**
   - 为项目添加环境、业务等标签
   - 便于资源管理和成本分摊

5. **监控告警**
   - 设置资源使用率告警
   - 监控项目的健康状态

## 注意事项

1. **项目删除**：删除项目是不可逆操作，会删除项目中的所有资源
2. **资源限制**：合理设置资源配额，避免影响其他项目
3. **权限控制**：遵循最小权限原则分配项目访问权限
4. **命名规范**：遵循Kubernetes命名规范，避免使用保留字
5. **备份策略**：重要项目中的数据建议配置定期备份

## 系统保留项目

以下系统项目由平台管理，不建议删除：

- `kube-system`：Kubernetes系统组件
- `kube-public`：公共资源
- `kube-node-lease`：节点租约
- `edge-system`：边缘平台组件
- `observability-system`：可观测性组件

## 相关文档

- [集群管理](./cluster-management.md)
- [节点组管理](./node-groups.md)
- [集群配置](./cluster-settings.md)